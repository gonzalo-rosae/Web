<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal pr√°ctica</title>
    <link rel="icon" href="../imagenes/favicon.ico" type="images/x-icon">
    <link rel="stylesheet" href="../estilos/general.css">
    <link rel="stylesheet" href="../estilos/consonantes.css">
    <script src="../scripts/general.js"></script>
</head>

<body>
    <a id="flechaAtras" href="javascript:void(0);" onclick="window.history.back();">‚Üê</a>
    <div class="container">
        <h1>Consonantes</h1>
        <div class="contenedorBotones">
            <button id="btn1" class="btnSeccion" onclick="prohibido()"><span class="textoBtn">??</span></button>
            <div class="grupoBotones grupoOculto">
                <button id="btn2" class="btnSeccion btnPartido" onclick="prohibido()"><span
                        class="textoBtn">??</span></button>
                <button id="btn3" class="btnSeccion btnPartido btnAvanzado" onclick="prohibido()"><span
                        class="textoBtn">??</span></button>
            </div>
            <button id="btn4" class="btnSeccion" onclick="prohibido()"><span class="textoBtn">??</span></button>
            <button id="btn5" class="btnSeccion" onclick="prohibido()"><span class="textoBtn">??</span></button>
            <button id="btn6" class="btnSeccion" onclick="prohibido()"><span class="textoBtn">??</span></button>
        </div>
    </div>

    <script>
        window.onload = function () {
            const identificador = sessionStorage.getItem('idUsuario');
            const token = sessionStorage.getItem('token');
            const consonantes = sessionStorage.getItem('consonantes');

            if (!(identificador && tokenEsValido(token, identificador))) {
                cerrarSesion();
            } else {
                cargarBotones(consonantes);
            }
        }

        function cargarBotones(consonantes) {
            numBotonesDesbloqueados = parseInt(consonantes, 10);
            const infoBotones = [
                {
                    id: 'btn1',
                    texto: 'Repaso s√≠mbolos',
                    nivel: 'B√°sico',
                    onclick: () => irAPagina('AFI_consonantes'),
                },
                {
                    id: 'btn2',
                    texto: 'Test sibilantes',
                    nivel: 'B√°sico',
                    onclick: () => realizarTest('sibilantes'),
                },
                {
                    id: 'btn3',
                    texto: 'üî•',
                    nivel: 'Avanzado',
                    onclick: () => realizarTest('sibilantes++'),
                },
                {
                    id: 'btn4',
                    texto: 'Test africadas',
                    nivel: 'B√°sico',
                    onclick: () => realizarTest('africadas'),
                },
                {
                    id: 'btn5',
                    texto: 'Test participios',
                    nivel: 'B√°sico',
                    onclick: () => realizarTest('participios'),
                },
                {
                    id: 'btn6',
                    texto: 'Test plurales',
                    nivel: 'B√°sico',
                    onclick: () => realizarTest('plurales'),
                },
            ];


            for (let i = 0; i < numBotonesDesbloqueados; i++) {
                if (i < infoBotones.length) {
                    const infoBtn = infoBotones[i];
                    const btn = document.getElementById(infoBtn.id);
                    btn.onclick = infoBtn.onclick;
                    btn.querySelector('.textoBtn').textContent = infoBtn.texto;
                    if (infoBtn.nivel == 'Avanzado') {
                        btn.parentElement.classList.remove("grupoOculto");
                    }
                }
            }
        }
    </script>
</body>

</html>