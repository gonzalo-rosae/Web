<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal práctica</title>
    <link rel="icon" href="../imagenes/favicon.ico" type="images/x-icon">
    <link rel="stylesheet" href="../estilos/general.css">
    <link rel="stylesheet" href="../estilos/consonantes.css">
    <script src="../scripts/general.js"></script>
</head>

<body>
    <a id="flechaAtras" href="javascript:void(0);" onclick="window.history.back();">←</a>
    <div class="container">
        <h1>Vocales</h1>
        <div class="contenedorBotones">
            <button id="btn1" class="btnSeccion" onclick="prohibido()"><span class="textoBtn">??</span></button>
            <button id="btn2" class="btnSeccion" onclick="prohibido()"><span class="textoBtn">??</span></button>
            <button id="btn3" class="btnSeccion" onclick="prohibido()"><span class="textoBtn">??</span></button>
            <button id="btn4" class="btnSeccion" onclick="prohibido()"><span class="textoBtn">??</span></button>
            <button id="btn5" class="btnSeccion" onclick="prohibido()"><span class="textoBtn">??</span></button>
        </div>
    </div>

    <script>
        window.onload = function () {
            const identificador = sessionStorage.getItem('idUsuario');
            const token = sessionStorage.getItem('token');
            const vocales = sessionStorage.getItem('vocales');

            if (!(identificador && tokenEsValido(token, identificador))) {
                cerrarSesion();
            } else {
                cargarBotones(vocales);
            }
        }

        function cargarBotones(vocales) {
            numBotonesDesbloqueados = parseInt(vocales, 10);

            const infoBotones = [
                { id: 'btn1', text: 'Repaso símbolos', onclick: () => irAPagina('AFI_vocales') },
                { id: 'btn2', text: 'Test schwa', onclick: () => realizarTest('schwa') },
                { id: 'btn3', text: 'Test prefijos', onclick: () => realizarTest('prefijos') },
                { id: 'btn4', text: '??', onclick: () => prohibido() },
                { id: 'btn5', text: '??', onclick: () => prohibido() }
            ];

            for (let i = 0; i < numBotonesDesbloqueados; i++) {
                if (i < infoBotones.length) {
                    const btn = document.getElementById(infoBotones[i].id);
                    btn.onclick = infoBotones[i].onclick;
                    btn.querySelector('.textoBtn').textContent = infoBotones[i].text;
                }
            }
        }
    </script>
</body>

</html>
